#! /bin/sh

. ./utils

exit_status=0
gen_run_head() {
    exit=$1
    shift
    head "$@" > out.exp 2> /dev/null || true
    run $exit out.exp "head $*" ../dctc-jar.sh head "$@"
    if $fail; then
        exit_status=1
    fi
}
run_head() {
    gen_run_head 0 "$@"
}

files="/etc/bash.bashrc /etc/hosts"

run_head_() {
    for i in $files; do
        run_head "$@" $i
    done
}

gen_run_head 1 foo $files
run_head_
run_head_ -n12
run_head_ -n3
run_head_ -n4242
run_head_ --lines 4242
run_head_ --lines=4242
run_head_ --lines 12
run_head_ --lines=12
run_head_ -c 12
run_head_ --bytes 424242
run_head -b $files

exit $exit_status
