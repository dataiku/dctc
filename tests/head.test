#! /bin/sh

. ./utils

exit_status=0

run_head() {
    head "$@" > out.exp 2> /dev/null || true
    run 0 out.exp "head $*" ../dctc-jar.sh head "$@"
    if $fail; then
        exit_status=1
    fi
}

files="/etc/bash.bashrc /etc/hosts"

run_head_() {
    for i in $files; do
        run_head "$@" $files
    done
}

run_head foo $files
run_head_
run_head_ -n12
run_head_ -n3
run_head_ -n4242
run_head_ --lines 4242
run_head_ --lines=4242
run_head_ --lines 12
run_head_ --lines=12
run_head_ -c 12
run_head_ --bytes 424242

echo $exit_status
