#! /bin/bash

. ./utils

exit_status=0
gen_run_head() {
    exit=$1
    shift
    head "$@" > out.exp 2> /dev/null || true
    run $exit out.exp "head $*" ../dctc-jar.sh head "$@"
    if $fail; then
        exit_status=1
    fi
}
run_head() {
    gen_run_head 0 "$@"
}

files="/etc/bash.bashrc /etc/hosts"

run_head_() {
    for i in $files; do
        run_head "$@" $i
    done
}

declare -a opt=(
    "n3"
    "n4242"
    "-lines 4242"
    "-lines 12"
    "c 12"
    "-bytes=424242"
    "q"
);

iter run_head_

gen_run_head 1 foo $files

print_status $exit_status $0

exit $exit_status
